# Лабораторная работа 1

**Название:** "Разработка драйверов символьных устройств"

**Цель работы:** получить знания и навыки разработки драйверов символьных устройств для операционной системы Linux.

## Описание функциональности драйвера

При записи текста в файл символьного устройства подсчитывается количество пробелов в тексте. Для каждой введённой строки создаётся отдельная запись. При чтении файла /proc/var4 выводится количество пробелов в каждой из введённых строк в порядке ввода. При чтении файла /dev/var4 приходит пустая строка, при этом в кольцевой буфер ядра выводятся выводятся записи и количестве пробелов, аналогично чтению файла /proc/var4.

## Инструкция по сборке

Открыть терминал в данной директории и выполнить комманду make

Модуль ядра будет скомпилирован в файл lab1.ko

## Инструкция пользователя

Чтобы добавить модуль, нужно выполнить команду insmod lab1.ko

Для удаления модуля - rmmod lab1

Добавить или удалить модуль можно только от имени root

Файл /proc/var4 доступен на чтение и запись для всех пользователей, при этом любые данные, записываемые в него, игнорируются, но в кольцевой буфер ядра выводится сообщение о попытке записи

Файл /dev/var4 доступен на чтение и запись только для root

## Примеры использования

cat /proc/var4 - выводит записи о количестве пробелов в строках на стандартный вывод.

echo "some phrase with spaces" > /dev/var4 - создаёт в модуле запись с количеством пробелов в строке, в данном случае 4. Одна операция ввода создаёт одну запись.

cat /dev/var4 - выводит записи о количестве пробелов в строках в кольцевой буфер ядра. На стандартный вывод ничего не возвращается.
